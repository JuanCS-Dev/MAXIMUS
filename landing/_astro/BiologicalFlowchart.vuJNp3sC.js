import{r as e,j as t}from"./react-vendor.DiOOKARb.js";import{f as a,a as i,b as o,c as s,d as r}from"./d3.DVlbr_22.js";import{u as n,g as l}from"./gsap.CMYwjtNt.js";/* empty css                              */import"./vendor.C2il2Jxn.js";const c=[{id:"tegumentar",name:"Tegumentar Service",biologicalSystem:"firewall",cellType:"Epithelial Barrier",port:8605,description:"eBPF/XDP firewall with honeypot invitations",responseTime:"< 1ms",biologicalAnalog:'Skin - First barrier that "invites" pathogens for study'},{id:"reactive_fabric",name:"Reactive Fabric Core",biologicalSystem:"firewall",cellType:"Honeypot Network",port:8500,description:"SSH/Web/API honeypots for attacker intelligence",responseTime:"10-500ms",biologicalAnalog:"Trap cells - Controlled environment for pathogen analysis"},{id:"reflex_triage",name:"Reflex Triage Engine (RTE)",biologicalSystem:"autonomic",cellType:"Spinal Reflex Arc",port:8502,description:"Hyperscan + Isolation Forest + VAE - sub-50ms threat decisions",responseTime:"15-45ms",biologicalAnalog:"Spinal reflex - Responds before conscious thought"},{id:"autonomous_response",name:"Autonomous Response Engine",biologicalSystem:"autonomic",cellType:"Motor Neurons",port:8502,description:"Executes reflex playbooks (BLOCK/KILL/ISOLATE)",responseTime:"50-200ms",biologicalAnalog:"Muscle contraction - Automatic defensive action"},{id:"neutrophil",name:"Neutrophil Service",biologicalSystem:"innate_immune",cellType:"Neutrophil (PMN)",port:8211,description:"Ephemeral rapid response (24h TTL) - First to arrive",responseTime:"2-4s",biologicalAnalog:"Neutrophils - Short-lived first responders, arrive within seconds"},{id:"macrophage",name:"Macrophage Service",biologicalSystem:"innate_immune",cellType:"Macrophage",port:8210,description:"Phagocytosis via Cuckoo Sandbox - IOC extraction",responseTime:"90-150s",biologicalAnalog:"Macrophages - Engulf and digest pathogens, present antigens"},{id:"nk_cell",name:"NK Cell Service",biologicalSystem:"innate_immune",cellType:"Natural Killer Cell",port:8212,description:'Stress-based detection without prior training ("missing self")',responseTime:"5-10s",biologicalAnalog:"NK Cells - Detect compromised hosts by absence of normal signals"},{id:"dendritic",name:"Dendritic Cell Service",biologicalSystem:"adaptive_immune",cellType:"Dendritic Cell",port:8208,description:"Antigen presentation + Qdrant vector correlation",responseTime:"500-900ms",biologicalAnalog:"Dendritic Cells - Bridge innate & adaptive, correlate threats"},{id:"helper_t",name:"Helper T-Cell Service",biologicalSystem:"adaptive_immune",cellType:"CD4+ Helper T-Cell",port:8209,description:"Orchestration via Th1/Th2 strategy selection",responseTime:"200-400ms",biologicalAnalog:"Helper T-Cells - Decide aggressive (Th1) vs defensive (Th2) strategy"},{id:"cytotoxic_t",name:"Cytotoxic T-Cell Service",biologicalSystem:"adaptive_immune",cellType:"CD8+ Cytotoxic T-Cell",port:8207,description:"Active threat neutralization (kill processes, cleanup)",responseTime:"1-3s",biologicalAnalog:"Cytotoxic T-Cells - Kill infected cells directly"},{id:"bcell",name:"B-Cell Service",biologicalSystem:"adaptive_immune",cellType:"B-Cell",port:8206,description:"Generate YARA signatures (antibodies)",responseTime:"2-5s",biologicalAnalog:"B-Cells - Produce antibodies for rapid re-detection"},{id:"treg",name:"Regulatory T-Cell Service",biologicalSystem:"adaptive_immune",cellType:"Regulatory T-Cell",port:8213,description:"Prevent false positive cascades (immune suppression)",responseTime:"1-2s",biologicalAnalog:"Regulatory T-Cells - Prevent autoimmune reactions"},{id:"oraculo",name:"OrÃ¡culo (CVE Sentinel)",biologicalSystem:"adaptive_immune",cellType:"Memory B-Cell",port:8201,description:"CVE feed ingestion + APV generation",responseTime:"5-30m",biologicalAnalog:"Memory B-Cells - Rapid re-detection of known threats"},{id:"eureka",name:"Eureka (Vulnerability Surgeon)",biologicalSystem:"adaptive_immune",cellType:"Memory T-Cell",port:8201,description:"LLM-powered remedy generation + validation",responseTime:"2-10m",biologicalAnalog:"Memory T-Cells - Recall and execute learned responses"},{id:"maximus_core",name:"MAXIMUS Core",biologicalSystem:"consciousness",cellType:"Cerebral Cortex",port:8150,description:"Predictive coding + Free Energy Principle (IIT consciousness)",responseTime:"100-500ms",biologicalAnalog:"Cerebral cortex - Conscious thought and strategic planning"},{id:"kafka",name:"Kafka Event Bus",biologicalSystem:"communication",port:9092,description:"High-throughput innate immune signaling",responseTime:"< 10ms",biologicalAnalog:"Cytokine signaling - Local, fast, high-volume"},{id:"rabbitmq",name:"RabbitMQ Queue",biologicalSystem:"communication",port:5672,description:"Durable adaptive immune messaging",responseTime:"20-50ms",biologicalAnalog:"Hormonal signaling - Reliable, persistent"},{id:"nats",name:"NATS Command Bus",biologicalSystem:"communication",port:4222,description:"Lightweight service orchestration",responseTime:"< 5ms",biologicalAnalog:"Neural signaling - Fast, direct commands"},{id:"redis",name:"Redis State Store",biologicalSystem:"communication",port:6379,description:"Global hormonal broadcast signaling",responseTime:"< 1ms",biologicalAnalog:"Endocrine system - Global state broadcast"},{id:"threat_intel",name:"Threat Intel Service",biologicalSystem:"intelligence",port:8301,description:"Aggregate threat feeds (MISP, AlienVault, etc.)",responseTime:"1-5s",biologicalAnalog:"Sensory neurons - Detect environmental threats"},{id:"osint",name:"OSINT Service",biologicalSystem:"intelligence",port:8300,description:"Open-source intelligence gathering",responseTime:"2-10s",biologicalAnalog:"Visual cortex - Process external information"},{id:"offensive_orchestrator",name:"Offensive Orchestrator",biologicalSystem:"offensive",port:8400,description:"LLM-powered attack campaign planning",responseTime:"5-30s",biologicalAnalog:"Motor cortex - Plan and execute counter-attacks"}],d=[{source:"tegumentar",target:"reflex_triage",type:"nats",label:"threat.detected"},{source:"reactive_fabric",target:"reflex_triage",type:"kafka",label:"reactive_fabric.threat_detected"},{source:"reflex_triage",target:"neutrophil",type:"nats",label:"rapid_response.trigger"},{source:"reflex_triage",target:"nk_cell",type:"nats",label:"stress.detected"},{source:"neutrophil",target:"macrophage",type:"kafka",label:"sample.submit"},{source:"reactive_fabric",target:"macrophage",type:"kafka",label:"sample.capture"},{source:"macrophage",target:"dendritic",type:"kafka",label:"antigen.presentation"},{source:"dendritic",target:"helper_t",type:"rabbitmq",label:"antigen.present"},{source:"helper_t",target:"cytotoxic_t",type:"rabbitmq",label:"activate.th1"},{source:"helper_t",target:"bcell",type:"rabbitmq",label:"activate.th2"},{source:"bcell",target:"oraculo",type:"rabbitmq",label:"signature.generated"},{source:"cytotoxic_t",target:"eureka",type:"rabbitmq",label:"threat.neutralized"},{source:"maximus_core",target:"helper_t",type:"redis",label:"strategy.update"},{source:"maximus_core",target:"reflex_triage",type:"redis",label:"policy.update"},{source:"threat_intel",target:"maximus_core",type:"kafka",label:"intel.feed"},{source:"osint",target:"maximus_core",type:"kafka",label:"osint.report"},{source:"treg",target:"helper_t",type:"redis",label:"suppress.response"},{source:"treg",target:"cytotoxic_t",type:"redis",label:"inhibit.attack"}],p=[{id:"firewall",name:"Firewall/Honeypot Layer",description:'The "skin" - Invites attackers into controlled environments',color:"#f97316",icon:"ðŸ›¡ï¸",responseTime:"< 1ms",nodes:c.filter(e=>"firewall"===e.biologicalSystem)},{id:"autonomic",name:"Autonomic Nervous System",description:"Reflex arc - Responds in milliseconds before conscious thought",color:"#ef4444",icon:"âš¡",responseTime:"15-200ms",nodes:c.filter(e=>"autonomic"===e.biologicalSystem)},{id:"innate_immune",name:"Innate Immune System",description:"First responders - Neutrophils, Macrophages, NK Cells",color:"#10b981",icon:"ðŸ¦ ",responseTime:"2-150s",nodes:c.filter(e=>"innate_immune"===e.biologicalSystem)},{id:"adaptive_immune",name:"Adaptive Immune System",description:"Learning & memory - T-Cells, B-Cells, Dendritic Cells",color:"#8b5cf6",icon:"ðŸ§¬",responseTime:"200ms-30m",nodes:c.filter(e=>"adaptive_immune"===e.biologicalSystem)},{id:"consciousness",name:"MAXIMUS Consciousness",description:"Strategic thought - IIT-validated consciousness substrate",color:"#fbbf24",icon:"ðŸ§ ",responseTime:"100-500ms",nodes:c.filter(e=>"consciousness"===e.biologicalSystem)},{id:"communication",name:"Communication Infrastructure",description:"Signaling pathways - Kafka, RabbitMQ, NATS, Redis",color:"#06b6d4",icon:"ðŸ“¡",responseTime:"< 50ms",nodes:c.filter(e=>"communication"===e.biologicalSystem)},{id:"intelligence",name:"Intelligence Services",description:"Sensory input - Threat feeds, OSINT, reconnaissance",color:"#3b82f6",icon:"ðŸ‘ï¸",responseTime:"1-10s",nodes:c.filter(e=>"intelligence"===e.biologicalSystem)},{id:"offensive",name:"Offensive Services",description:"Counter-attack - Automated offensive response",color:"#dc2626",icon:"âš”ï¸",responseTime:"5-30s",nodes:c.filter(e=>"offensive"===e.biologicalSystem)}],m=[{id:"phase1_firewall",name:"Phase 1: Firewall Detection",description:"Attacker hits firewall, honeypot captures exploit",startTime:0,duration:.3,nodes:["tegumentar","reactive_fabric"],highlight:!0},{id:"phase2_reflex",name:"Phase 2: Autonomic Reflex",description:"RTE analyzes threat in 15-45ms, triggers autonomous response",startTime:.3,duration:.2,nodes:["reflex_triage","autonomous_response"],highlight:!0},{id:"phase3_neutrophil",name:"Phase 3: Neutrophil Response",description:"First responders arrive, isolate host",startTime:.5,duration:2,nodes:["neutrophil","nk_cell"],highlight:!0},{id:"phase4_macrophage",name:"Phase 4: Macrophage Phagocytosis",description:"Cuckoo Sandbox analysis, IOC extraction",startTime:2.5,duration:2,nodes:["macrophage"],highlight:!0},{id:"phase5_dendritic",name:"Phase 5: Antigen Presentation",description:"Dendritic cell correlates with past attacks via Qdrant",startTime:4.5,duration:1,nodes:["dendritic"],highlight:!0},{id:"phase6_helper_t",name:"Phase 6: Helper T-Cell Orchestration",description:"Th1/Th2 strategy decision (aggressive vs defensive)",startTime:5.5,duration:1,nodes:["helper_t"],highlight:!0},{id:"phase7_adaptive",name:"Phase 7: Adaptive Response",description:"B-Cells generate signatures, Cytotoxic T-Cells neutralize",startTime:6.5,duration:3,nodes:["bcell","cytotoxic_t","treg"],highlight:!0},{id:"phase8_memory",name:"Phase 8: Memory Formation",description:"OrÃ¡culo-Eureka learns, generates remedies",startTime:9.5,duration:2,nodes:["oraculo","eureka"],highlight:!0},{id:"phase9_consciousness",name:"Phase 9: Strategic Update",description:"MAXIMUS updates threat model, learns new patterns",startTime:11.5,duration:1.5,nodes:["maximus_core"],highlight:!0}];function g({nodes:t,links:n,width:l,height:c}){const[d,p]=e.useState([]),[m,g]=e.useState([]),[u,h]=e.useState(!1),y=e.useRef(null);return e.useEffect(()=>{const e=t.map(e=>({id:e.id,name:e.name,biologicalSystem:e.biologicalSystem,cellType:e.cellType,x:l/2,y:c/2})),d=n.map(e=>({source:e.source,target:e.target,type:e.type})),m=a(e).force("center",i(l/2,c/2)).force("link",o(d).id(e=>e.id).distance(150).strength(.3)).force("charge",s().strength(-300).distanceMax(400)).force("collision",r().radius(60).strength(.7)).force("cluster",function(){let e,t,a=.1;function i(i){for(let o=0,s=e.length;o<s;++o){const s=e[o],r=t(s);s.vx+=(r.x-s.x)*a*i,s.vy+=(r.y-s.y)*a*i}}return i.initialize=function(t){e=t},i.centers=function(e){return t=e,i},i.strength=function(e){return a=e,i},i}().centers(e=>function(e,t,a){const i=t/2,o=a/2,s=.35*Math.min(t,a),r={firewall:0,autonomic:Math.PI/4,innate_immune:Math.PI/2,adaptive_immune:3*Math.PI/4,consciousness:Math.PI,communication:5*Math.PI/4,intelligence:3*Math.PI/2,offensive:7*Math.PI/4,sensory:0}[e]||0;return{x:i+s*Math.cos(r-Math.PI/2),y:o+s*Math.sin(r-Math.PI/2)}}(e.biologicalSystem,l,c)).strength(.2));return m.on("tick",()=>{p([...e]),g([...d])}),m.on("end",()=>{h(!0)}),y.current=m,()=>{m.stop()}},[t,n,l,c]),{layoutNodes:d,layoutLinks:m,isStable:u}}const u=1200,h=800;function y(){const a=e.useRef(null),[i,o]=e.useState({isPlaying:!1,currentPhase:0,speed:1,selectedNode:null,hoveredNode:null}),{layoutNodes:s,layoutLinks:r,isStable:y}=g({nodes:c,links:d,width:u,height:h}),{play:f,pause:x,restart:b,setSpeed:k,currentPhase:v}=function({phases:t,containerRef:a,isLayoutStable:i,speed:o=1}){const s=e.useRef(null),r=e.useRef(0);return n(()=>{if(!a.current||!i)return;const e=l.timeline({paused:!0,defaults:{ease:"power2.inOut"},onUpdate:()=>{const a=e.progress()*e.duration();for(let e=0;e<t.length;e++){const i=t[e];if(a>=i.startTime&&a<i.startTime+i.duration){r.current=e;break}}}});e.fromTo(".attacker-group",{opacity:0,scale:.5,y:-50},{opacity:1,scale:1,y:0,duration:.3,ease:"back.out(1.7)"},0).to(".attacker-group",{y:100,duration:.5,ease:"power2.in"},.2).to('.node[data-system="firewall"]',{scale:1.3,fill:"#f97316",opacity:1,duration:.2,stagger:.05,ease:"back.out(1.7)"},.3).to('.node[data-system="firewall"]',{boxShadow:"0 0 30px rgba(249, 115, 22, 0.8)",duration:.1,yoyo:!0,repeat:1},.4),e.to('.node[data-system="autonomic"]',{scale:1.4,fill:"#ef4444",opacity:1,duration:.1,stagger:.02,ease:"power4.out"},.3).to('.link[data-target*="reflex"]',{strokeWidth:4,stroke:"#ef4444",opacity:1,duration:.1},.3),e.to(".particle-reflex",{motionPath:{path:'.link[data-target*="reflex"]',align:'.link[data-target*="reflex"]',autoRotate:!0,alignOrigin:[.5,.5]},duration:.2,ease:"none"},.3),e.to(".attacker-group",{y:250,duration:.5,ease:"power1.in"},.5).to('.node[data-id="neutrophil"]',{scale:1.5,fill:"#10b981",opacity:1,x:"+=50",y:"-=30",duration:1,ease:"power2.out"},.5).to('.node[data-id="nk_cell"]',{scale:1.3,fill:"#10b981",opacity:.9,x:"+=30",y:"+=20",duration:1,ease:"power2.out"},.7).to(".shield-effect",{opacity:1,scale:1.2,duration:.2,ease:"back.out(2)"},1.3).to(".attacker-virus-1",{scale:0,rotation:360,opacity:0,duration:.3,ease:"back.in(2)"},1.5).to(".explosion-1",{opacity:1,scale:1.5,duration:.2,ease:"power2.out"},1.5).to(".explosion-1",{opacity:0,scale:2,duration:.3},1.7).to(".attacker-malware-1",{scale:0,rotation:-360,opacity:0,duration:.3,ease:"back.in(2)"},1.7).to(".explosion-2",{opacity:1,scale:1.5,duration:.2,ease:"power2.out"},1.7).to(".explosion-2",{opacity:0,scale:2,duration:.3},1.9).to(".shield-effect",{opacity:0,duration:.3},2),e.to(".attacker-ransomware",{y:300,rotation:360,duration:.5,ease:"power1.in"},2.5).to(".attacker-trojan",{y:300,rotation:-360,duration:.5,ease:"power1.in"},2.5).to('.node[data-id="macrophage"]',{scale:1.8,rotation:360,fill:"#14b8a6",opacity:1,duration:1.5,ease:"back.inOut(1.2)"},2.5).to('.node[data-id="macrophage"]',{scale:2,opacity:.7,duration:.3,yoyo:!0,repeat:3,ease:"power1.inOut"},3).to(".attacker-ransomware",{scale:0,opacity:0,duration:.5,ease:"power3.in"},3.5).to(".explosion-3",{opacity:1,scale:1.5,duration:.2},3.5).to(".explosion-3",{opacity:0,scale:2,duration:.3},3.7).to(".attacker-trojan",{scale:0,opacity:0,duration:.5,ease:"power3.in"},3.9).to(".explosion-4",{opacity:1,scale:1.5,duration:.2},3.9).to(".explosion-4",{opacity:0,scale:2,duration:.3},4.1),e.to(".particle-macrophage",{motionPath:{path:'.link[data-target="macrophage"]',align:'.link[data-target="macrophage"]',autoRotate:!0},duration:1,stagger:.1,ease:"none"},2.5),e.to('.node[data-id="dendritic"]',{scale:1.6,fill:"#8b5cf6",opacity:1,duration:.5,ease:"elastic.out(1, 0.5)"},4.5).to(".dendritic-rays",{scale:2,opacity:[0,.6,0],duration:.5,stagger:.05},4.7),e.to('.node[data-id="helper_t"]',{scale:1.7,fill:"#a855f7",opacity:1,duration:.5,ease:"back.out(2)"},5.5).to('.link[data-source="helper_t"]',{strokeWidth:3,stroke:"#a855f7",opacity:1,duration:.3,stagger:.1},5.7),e.to('.node[data-id="bcell"]',{scale:1.5,fill:"#c084fc",opacity:1,duration:1,ease:"power2.out"},6.5).to(".antibody-particle",{scale:[0,1.2,0],opacity:[0,1,0],x:"+=random(-50, 50)",y:"+=random(-50, 50)",duration:1.5,stagger:.1,ease:"none"},6.8),e.to(".attacker-worm",{y:450,rotation:720,duration:1,ease:"power2.in"},7).to('.node[data-id="cytotoxic_t"]',{scale:1.6,fill:"#dc2626",opacity:1,x:"+=80",duration:1.5,ease:"power3.out"},7.5).to('.node[data-id="cytotoxic_t"]',{x:"+=10",duration:.1,yoyo:!0,repeat:5,ease:"none"},8).to(".attacker-worm",{scale:0,rotation:1080,opacity:0,duration:.4,ease:"back.in(3)"},8.5).to([".explosion-1",".explosion-2",".explosion-3",".explosion-4"],{opacity:1,scale:2,duration:.3,stagger:.1,ease:"power2.out"},8.5).to([".explosion-1",".explosion-2",".explosion-3",".explosion-4"],{opacity:0,scale:3,duration:.5,stagger:.1},8.8).to(".shield-effect",{opacity:1,scale:1.5,rotation:360,duration:.5,ease:"back.out(2)"},9.3),e.to('.node[data-id="treg"]',{scale:1.3,fill:"#6366f1",opacity:.8,duration:1,ease:"sine.inOut"},8.5),e.to('.node[data-id="oraculo"]',{scale:1.4,fill:"#7c3aed",opacity:1,duration:1,ease:"power2.out"},9.5).to('.node[data-id="eureka"]',{scale:1.4,fill:"#6d28d9",opacity:1,duration:1,ease:"power2.out"},10),e.to(['.node[data-id="oraculo"]','.node[data-id="eureka"]'],{filter:"brightness(1.5) drop-shadow(0 0 20px rgba(124, 58, 237, 0.8))",duration:.5,yoyo:!0,repeat:1},10.5),e.to('.node[data-id="maximus_core"]',{scale:2,fill:"#fbbf24",opacity:1,filter:"brightness(1.3) drop-shadow(0 0 40px rgba(251, 191, 36, 0.9))",duration:1,ease:"power3.out"},11.5).to(".node",{opacity:.5,scale:.9,duration:.3,stagger:{amount:.5,from:"center",grid:"auto"}},12).to(".node",{opacity:1,scale:1,duration:.5,stagger:{amount:.5,from:"center",grid:"auto"}},12.3),e.to(".node, .link",{opacity:.6,duration:.5},12.8),s.current=e,e.timeScale(o)},{scope:a,dependencies:[i,t,o]}),{timeline:s.current,play:()=>{s.current?.play()},pause:()=>{s.current?.pause()},restart:()=>{s.current?.restart()},setSpeed:e=>{s.current?.timeScale(e)},currentPhase:r.current}}({phases:m,containerRef:a,isLayoutStable:y,speed:i.speed});e.useEffect(()=>{o(e=>({...e,currentPhase:v}))},[v]);const j=e=>{o(t=>({...t,hoveredNode:e}))},S=e=>({kafka:"#ef4444",rabbitmq:"#3b82f6",nats:"#10b981",redis:"#a855f7"}[e]||"#6b7280"),T=e=>{const t=p.find(t=>t.id===e);return t?.color||"#6b7280"};return t.jsxs("div",{className:"biological-flowchart-container",children:[t.jsxs("div",{className:"flowchart-controls",children:[t.jsx("button",{className:"control-btn play-pause",onClick:()=>{i.isPlaying?x():f(),o(e=>({...e,isPlaying:!e.isPlaying}))},"aria-label":i.isPlaying?"Pause animation":"Play animation",children:i.isPlaying?"â¸ï¸ Pause":"â–¶ï¸ Play"}),t.jsx("button",{className:"control-btn restart",onClick:()=>{b(),o(e=>({...e,isPlaying:!0,currentPhase:0}))},"aria-label":"Restart animation",children:"ðŸ”„ Restart"}),t.jsxs("div",{className:"speed-controls",children:[t.jsx("span",{className:"speed-label",children:"Speed:"}),[.5,1,2,5].map(e=>t.jsxs("button",{className:"speed-btn "+(i.speed===e?"active":""),onClick:()=>{return k(t=e),void o(e=>({...e,speed:t}));var t},"aria-label":`${e}x speed`,children:[e,"x"]},e))]}),t.jsxs("div",{className:"phase-indicator",children:[t.jsx("span",{className:"phase-label",children:"Phase:"}),t.jsx("span",{className:"phase-name",children:m[i.currentPhase]?.name||"Ready"})]})]}),t.jsxs("svg",{ref:a,className:"flowchart-svg",width:u,height:h,viewBox:"0 0 1200 800",style:{opacity:y?1:.3},children:[t.jsxs("defs",{children:[t.jsxs("radialGradient",{id:"node-gradient",children:[t.jsx("stop",{offset:"0%",stopColor:"currentColor",stopOpacity:"0.9"}),t.jsx("stop",{offset:"100%",stopColor:"currentColor",stopOpacity:"0.4"})]}),t.jsx("marker",{id:"arrow-kafka",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:t.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#ef4444"})}),t.jsx("marker",{id:"arrow-rabbitmq",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:t.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#3b82f6"})}),t.jsx("marker",{id:"arrow-nats",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:t.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#10b981"})}),t.jsx("marker",{id:"arrow-redis",viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",children:t.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#a855f7"})})]}),t.jsxs("g",{className:"grid",opacity:"0.1",children:[Array.from({length:20}).map((e,a)=>t.jsx("line",{x1:"0",y1:40*a,x2:u,y2:40*a,stroke:"#ffffff",strokeWidth:"0.5"},`h-${a}`)),Array.from({length:30}).map((e,a)=>t.jsx("line",{x1:40*a,y1:"0",x2:40*a,y2:h,stroke:"#ffffff",strokeWidth:"0.5"},`v-${a}`))]}),t.jsx("g",{className:"links",children:r.map((e,a)=>{const i="object"==typeof e.source?e.source:null,o="object"==typeof e.target?e.target:null;return i&&o&&i.x&&i.y&&o.x&&o.y?t.jsxs("g",{children:[t.jsx("line",{className:`link link-${e.type}`,"data-source":"object"==typeof e.source?e.source.id:e.source,"data-target":"object"==typeof e.target?e.target.id:e.target,x1:i.x,y1:i.y,x2:o.x,y2:o.y,stroke:S(e.type),strokeWidth:"2",strokeOpacity:"0.3",markerEnd:`url(#arrow-${e.type})`}),t.jsx("circle",{className:`particle particle-${"object"==typeof e.target?e.target.id:e.target}`,cx:i.x,cy:i.y,r:"4",fill:S(e.type),opacity:"0"})]},a):null})}),t.jsxs("g",{className:"attackers",children:[t.jsxs("g",{className:"attacker-group",transform:"translate(600, 50)",children:[t.jsxs("g",{className:"attacker-virus-1",transform:"translate(-80, 0)",children:[t.jsx("text",{fontSize:"32",textAnchor:"middle",children:"ðŸ¦ "}),t.jsx("text",{fontSize:"10",textAnchor:"middle",dy:"25",fill:"#ef4444",fontWeight:"bold",children:"VÃ­rus"})]}),t.jsxs("g",{className:"attacker-malware-1",transform:"translate(-40, 0)",children:[t.jsx("text",{fontSize:"32",textAnchor:"middle",children:"ðŸ›"}),t.jsx("text",{fontSize:"10",textAnchor:"middle",dy:"25",fill:"#dc2626",fontWeight:"bold",children:"Malware"})]}),t.jsxs("g",{className:"attacker-ransomware",transform:"translate(0, 0)",children:[t.jsx("text",{fontSize:"32",textAnchor:"middle",children:"ðŸ”"}),t.jsx("text",{fontSize:"10",textAnchor:"middle",dy:"25",fill:"#b91c1c",fontWeight:"bold",children:"Ransom"})]}),t.jsxs("g",{className:"attacker-trojan",transform:"translate(40, 0)",children:[t.jsx("text",{fontSize:"32",textAnchor:"middle",children:"ðŸŽ­"}),t.jsx("text",{fontSize:"10",textAnchor:"middle",dy:"25",fill:"#991b1b",fontWeight:"bold",children:"Trojan"})]}),t.jsxs("g",{className:"attacker-worm",transform:"translate(80, 0)",children:[t.jsx("text",{fontSize:"32",textAnchor:"middle",children:"ðŸª±"}),t.jsx("text",{fontSize:"10",textAnchor:"middle",dy:"25",fill:"#7f1d1d",fontWeight:"bold",children:"Worm"})]})]}),t.jsxs("g",{className:"explosion-effects",children:[t.jsx("g",{className:"explosion-1",transform:"translate(520, 200)",opacity:"0",children:t.jsx("text",{fontSize:"40",textAnchor:"middle",children:"ðŸ’¥"})}),t.jsx("g",{className:"explosion-2",transform:"translate(560, 200)",opacity:"0",children:t.jsx("text",{fontSize:"40",textAnchor:"middle",children:"ðŸ’¥"})}),t.jsx("g",{className:"explosion-3",transform:"translate(600, 350)",opacity:"0",children:t.jsx("text",{fontSize:"40",textAnchor:"middle",children:"ðŸ’¥"})}),t.jsx("g",{className:"explosion-4",transform:"translate(640, 350)",opacity:"0",children:t.jsx("text",{fontSize:"40",textAnchor:"middle",children:"ðŸ’¥"})})]}),t.jsx("g",{className:"shield-effect",transform:"translate(600, 150)",opacity:"0",children:t.jsx("text",{fontSize:"50",textAnchor:"middle",children:"ðŸ›¡ï¸"})})]}),t.jsx("g",{className:"nodes",children:s.map(e=>{const a=i.selectedNode===e.id,s=i.hoveredNode===e.id,r=a?35:s?30:25;return t.jsxs("g",{className:"node-group",transform:`translate(${e.x}, ${e.y})`,onClick:()=>{return t=e.id,void o(e=>({...e,selectedNode:e.selectedNode===t?null:t}));var t},onMouseEnter:()=>j(e.id),onMouseLeave:()=>j(null),style:{cursor:"pointer"},children:[t.jsx("circle",{className:`node node-${e.biologicalSystem}`,"data-id":e.id,"data-system":e.biologicalSystem,r:r,fill:T(e.biologicalSystem),fillOpacity:"0.3",stroke:T(e.biologicalSystem),strokeWidth:"2"}),t.jsx("text",{className:"node-label",textAnchor:"middle",dy:"-35",fill:"#ffffff",fontSize:"10",fontWeight:"bold",opacity:s||a?"1":"0",children:e.cellType||e.name}),"dendritic"===e.id&&t.jsx("g",{className:"dendritic-rays",children:Array.from({length:8}).map((e,a)=>t.jsx("line",{x1:"0",y1:"0",x2:40*Math.cos(a*Math.PI/4),y2:40*Math.sin(a*Math.PI/4),stroke:"#8b5cf6",strokeWidth:"2",opacity:"0"},a))}),"bcell"===e.id&&t.jsx("g",{className:"antibody-particles",children:Array.from({length:6}).map((e,a)=>t.jsx("circle",{className:"antibody-particle",cx:"0",cy:"0",r:"3",fill:"#c084fc",opacity:"0"},a))})]},e.id)})})]}),t.jsxs("div",{className:"flowchart-legend",children:[t.jsx("h3",{className:"legend-title",children:"Biological Systems"}),t.jsx("div",{className:"legend-items",children:p.map(e=>t.jsxs("div",{className:"legend-item",children:[t.jsx("div",{className:"legend-color",style:{backgroundColor:e.color}}),t.jsxs("div",{className:"legend-info",children:[t.jsx("span",{className:"legend-icon",children:e.icon}),t.jsx("span",{className:"legend-name",children:e.name}),t.jsxs("span",{className:"legend-response-time",children:["(",e.responseTime,")"]})]})]},e.id))}),t.jsx("h3",{className:"legend-title",style:{marginTop:"2rem"},children:"Communication"}),t.jsxs("div",{className:"legend-items",children:[t.jsxs("div",{className:"legend-item",children:[t.jsx("div",{className:"legend-line",style:{backgroundColor:"#ef4444"}}),t.jsx("span",{children:"Kafka (High-throughput)"})]}),t.jsxs("div",{className:"legend-item",children:[t.jsx("div",{className:"legend-line",style:{backgroundColor:"#3b82f6"}}),t.jsx("span",{children:"RabbitMQ (Durable)"})]}),t.jsxs("div",{className:"legend-item",children:[t.jsx("div",{className:"legend-line",style:{backgroundColor:"#10b981"}}),t.jsx("span",{children:"NATS (Fast commands)"})]}),t.jsxs("div",{className:"legend-item",children:[t.jsx("div",{className:"legend-line",style:{backgroundColor:"#a855f7"}}),t.jsx("span",{children:"Redis (Global state)"})]})]})]}),i.selectedNode&&t.jsx("div",{className:"node-details-panel",children:(()=>{const e=c.find(e=>e.id===i.selectedNode);return e?t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"close-btn",onClick:()=>o(e=>({...e,selectedNode:null})),"aria-label":"Close details",children:"âœ•"}),t.jsx("h3",{className:"node-title",children:e.name}),t.jsxs("div",{className:"node-detail",children:[t.jsx("strong",{children:"Cell Type:"})," ",e.cellType||"N/A"]}),t.jsxs("div",{className:"node-detail",children:[t.jsx("strong",{children:"Port:"})," ",e.port]}),t.jsxs("div",{className:"node-detail",children:[t.jsx("strong",{children:"Response Time:"})," ",e.responseTime]}),t.jsxs("div",{className:"node-detail",children:[t.jsx("strong",{children:"Description:"}),t.jsx("p",{children:e.description})]}),t.jsxs("div",{className:"node-detail",children:[t.jsx("strong",{children:"Biological Analog:"}),t.jsx("p",{children:e.biologicalAnalog})]})]}):null})()}),!y&&t.jsxs("div",{className:"loading-overlay",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Organizing biological systems..."})]})]})}export{y as default};
