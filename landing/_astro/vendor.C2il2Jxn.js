var e,t,n={exports:{}},r={};function a(){return t||(t=1,n.exports=(e||(e=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var l=2*(r+1)-1,u=e[l],s=l+1,c=e[s];if(0>a(u,n))s<o&&0>a(c,u)?(e[r]=c,e[s]=n,r=s):(e[r]=u,e[l]=n,r=l);else{if(!(s<o&&0>a(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var u=[],s=[],c=1,f=null,d=3,v=!1,m=!1,p=!1,b=!1,h="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,g="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var a=n(s);null!==a;){if(null===a.callback)r(s);else{if(!(a.startTime<=e))break;r(s),a.sortIndex=a.expirationTime,t(u,a)}a=n(s)}}function k(e){if(p=!1,w(e),!m)if(null!==n(u))m=!0,T||(T=!0,_());else{var t=n(s);null!==t&&N(k,t.startTime-e)}}var _,T=!1,x=-1,L=5,I=-1;function E(){return!(!b&&e.unstable_now()-I<L)}function P(){if(b=!1,T){var t=e.unstable_now();I=t;var a=!0;try{e:{m=!1,p&&(p=!1,y(x),x=-1),v=!0;var o=d;try{t:{for(w(t),f=n(u);null!==f&&!(f.expirationTime>t&&E());){var i=f.callback;if("function"==typeof i){f.callback=null,d=f.priorityLevel;var l=i(f.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof l){f.callback=l,w(t),a=!0;break t}f===n(u)&&r(u),w(t)}else r(u);f=n(u)}if(null!==f)a=!0;else{var c=n(s);null!==c&&N(k,c.startTime-t),a=!1}}break e}finally{f=null,d=o,v=!1}a=void 0}}finally{a?_():T=!1}}}if("function"==typeof g)_=function(){g(P)};else if("undefined"!=typeof MessageChannel){var C=new MessageChannel,M=C.port2;C.port1.onmessage=P,_=function(){M.postMessage(null)}}else _=function(){h(P,0)};function N(t,n){x=h(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(L=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,a,o){var i=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?i+o:i,r){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return r={id:c++,callback:a,priorityLevel:r,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>i?(r.sortIndex=o,t(s,r),null===n(u)&&r===n(s)&&(p?(y(x),x=-1):p=!0,N(k,o-i))):(r.sortIndex=l,t(u,r),m||v||(m=!0,T||(T=!0,_()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}(r)),r)),n.exports}const o={},i=new Set,l=new WeakSet;let u,s="viewport",c=!1;function f(e){c||(c=!0,u??=!1,s??="hover",function(){for(const e of["touchstart","mousedown"])document.addEventListener(e,e=>{m(e.target,"tap")&&v(e.target.href,{ignoreSlowConnection:!0})},{passive:!0})}(),function(){let e;function t(t){const n=t.target.href;e&&clearTimeout(e),e=setTimeout(()=>{v(n)},80)}function n(){e&&(clearTimeout(e),e=0)}document.body.addEventListener("focusin",e=>{m(e.target,"hover")&&t(e)},{passive:!0}),document.body.addEventListener("focusout",n,{passive:!0}),b(()=>{for(const e of document.getElementsByTagName("a"))l.has(e)||m(e,"hover")&&(l.add(e),e.addEventListener("mouseenter",t,{passive:!0}),e.addEventListener("mouseleave",n,{passive:!0}))})}(),function(){let e;b(()=>{for(const t of document.getElementsByTagName("a"))l.has(t)||m(t,"viewport")&&(l.add(t),e??=d(),e.observe(t))})}(),b(()=>{for(const e of document.getElementsByTagName("a"))m(e,"load")&&v(e.href)}))}function d(){const e=new WeakMap;return new IntersectionObserver((t,n)=>{for(const r of t){const t=r.target,a=e.get(t);r.isIntersecting?(a&&clearTimeout(a),e.set(t,setTimeout(()=>{n.unobserve(t),e.delete(t),v(t.href)},300))):a&&(clearTimeout(a),e.delete(t))}})}function v(e,t){if(function(e,t){if(!navigator.onLine)return!1;if(!t&&p())return!1;try{const t=new URL(e,location.href);return location.origin===t.origin&&(location.pathname!==t.pathname||location.search!==t.search)&&!i.has(e)}catch{}return!1}(e=e.replace(/#.*/,""),t?.ignoreSlowConnection??!1))if(i.add(e),document.createElement("link").relList?.supports?.("prefetch")&&"fetch"!==t?.with){const t=document.createElement("link");t.rel="prefetch",t.setAttribute("href",e),document.head.append(t)}else{const t=new Headers;for(const[e,n]of Object.entries(o))t.set(e,n);fetch(e,{priority:"low",headers:t})}}function m(e,t){if("A"!==e?.tagName)return!1;const n=e.dataset.astroPrefetch;return"false"!==n&&(!("tap"!==t||null==n&&!u||!p())||(null==n&&u||""===n?t===s:n===t))}function p(){if("connection"in navigator){const e=navigator.connection;return e.saveData||/2g/.test(e.effectiveType)}return!1}function b(e){e();let t=!1;document.addEventListener("astro:page-load",()=>{t?e():t=!0})}export{f as i,a as r};
